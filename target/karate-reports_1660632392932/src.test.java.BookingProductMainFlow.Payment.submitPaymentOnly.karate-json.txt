{"failedCount":1,"prefixedPath":"src\/test\/java\/BookingProductMainFlow\/Payment\/submitPaymentOnly.feature","packageQualifiedName":"src.test.java.BookingProductMainFlow.Payment.submitPaymentOnly","loopIndex":-1,"relativePath":"src\/test\/java\/BookingProductMainFlow\/Payment\/submitPaymentOnly.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1093775,"millis":1.093775,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url baseUrlPayment"}},{"result":{"nanos":81761136,"millis":81.761136,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def reqbodysubmitPay = read('classpath:request\/booking\/payment\/submitPayment.json')"}},{"result":{"nanos":1754087,"millis":1.754087,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"set reqbodysubmitPay.context.tvLifetime = tvLifetime"}},{"result":{"nanos":410549,"millis":0.410549,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"set reqbodysubmitPay.context.tvSession = tvSession"}},{"result":{"nanos":408859,"millis":0.408859,"status":"passed"},"step":{"comments":["# submit payment"],"line":11,"prefix":"Given","index":0,"text":"path submitPayment"}},{"result":{"nanos":71675,"millis":0.071675,"status":"passed"},"step":{"line":12,"prefix":"And","index":1,"text":"request reqbodysubmitPay"}},{"result":{"nanos":709904682,"millis":709.904682,"status":"passed"},"step":{"line":13,"prefix":"When","index":2,"text":"method POST"},"stepLog":"17:46:15.231 request:\n1 > POST https:\/\/paypapi.pay.staging-traveloka.com\/en-id\/v2\/payment\/submitpayment\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 998\n1 > Host: paypapi.pay.staging-traveloka.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/1.8.0_202)\n1 > Accept-Encoding: gzip,deflate\n{\"clientInterface\":\"mobile-android\",\"context\":{\"nonce\":\"00f3d755-05e6-4efe-ae40-9b4d92474dd3\",\"tvLifetime\":\"qgdHX7GvehrD9XH5a3S4PdE8AYpuF3hYPaT5bxhY7ZYNUZrZOl2UlDiBuXCxq8sOg7nt46\\\/VPehcCmOedyJHbu4+FhR7gfEnnStupPqpfTXQPJbgzmVCrU0Pdbi\\\/QKLyabY+p8NbH9lSwSP+Ce5nZswpljLW8Llze3rktN7ay26Rxolv31kdHn3tiz9ERW82KCajsK1\\\/t8VOrr22VSxJ+sthjrgAThqmIPWqYdEZpXyHxIZibQPTfMRbtLuDTaX3i7ceDGYgYneH+AfodZMd5A==\",\"tvSession\":\"qgdHX7GvehrD9XH5a3S4PXWKx93\\\/3Xi103f\\\/kPpnhg3CKqgtVARX\\\/VDwq+PgoTH1aLb7MdTdXKtCOtHBtffKIrZ9klIk8KMvB\\\/MfyxJCcFBTWp6Z+ofHQCshoZLtdxlDcQYPDsiAN4MFOZCDaz0psBlJGGb5h16Ee9q0nmyig7qr7ak9+3NllNsZvQ2KW1xxAfzSqLYz+CpT99aR3\\\/9KlvN9a1xZiWPBBhHS+H96iCM=\"},\"data\":{\"amount\":940000,\"auth\":\"bfd053c01b\",\"callbackUrl\":\"https:\\\/\\\/android-callback.traveloka.com\\\/\",\"cardNumber\":\"411111XXXXXX1111\",\"invoiceId\":\"1740135450296741996\",\"name\":\"Aku adalah anak gembala\",\"requestSaveCredential\":false,\"savedPaymentMethodHash\":\"5JomwazEYW7o4CPxrx9lYKUu\",\"scope\":\"CREDIT_CARD\",\"toAttachPaymentFacility\":[]},\"fields\":[]}\n\n17:46:15.678 response time in milliseconds: 435\n1 < 500\n1 < Date: Wed, 03 Aug 2022 10:46:15 GMT\n1 < Content-Type: application\/json\n1 < Transfer-Encoding: chunked\n1 < Connection: keep-alive\n1 < Access-Control-Allow-Credentials: true\n1 < vary: accept-encoding\n1 < Set-Cookie: AWSALB=Jbev8ztBiC+o93JZjiWcx3bq06BTmbgfoxxKPCQJJ1HWBGjdYW+ta8pR\/TgKOOHkCfr\/R12bE+noIadA6Vghi59PDe76qjOxGlmMOleLLzo5yVICn7W6sLnVIeK3; Max-Age=1660128375000; Expires=Fri, 18 Dec 54629 05:36:15 GMT; Domain=paypapi.pay.staging-traveloka.com\n1 < Set-Cookie: AWSALBCORS=Jbev8ztBiC+o93JZjiWcx3bq06BTmbgfoxxKPCQJJ1HWBGjdYW+ta8pR\/TgKOOHkCfr\/R12bE+noIadA6Vghi59PDe76qjOxGlmMOleLLzo5yVICn7W6sLnVIeK3; Max-Age=1660128375000; Expires=Fri, 18 Dec 54629 05:36:15 GMT; Domain=paypapi.pay.staging-traveloka.com; Secure\n{\"errorType\":\"SERVER_ERROR\",\"userErrorMessage\":\"Unexpected server error occurred. We apologize for the inconvenience. Please try again later.\",\"errorMessage\":\"Uncaught exception: java.lang.NullPointerException\\n\\tat com.traveloka.payment.papi.v2.CommercePaymentAPIImpl.validateSubmitPayment(CommercePaymentAPIImpl.java:3053)\\n\\tat com.traveloka.payment.papi.v2.PublicCommerceProductAPIImpl.internalSubmitPaymentRequest(PublicCommerceProductAPIImpl.java:689)\\n\\tat com.traveloka.payment.papi.v2.PublicCommerceProductAPIImpl.submitPaymentRequest(PublicCommerceProductAPIImpl.java:571)\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat com.traveloka.common.ffxcore.controller.DefaultInvoker.invoke(DefaultInvoker.java:235)\\n\\tat com.traveloka.common.ffxcore.controller.DefaultInvoker.invoke(DefaultInvoker.java:148)\\n\\tat com.traveloka.common.ffxcore.route.DefaultInternationalRoute.dispatchRoute(DefaultInternationalRoute.java:329)\\n\\tat com.traveloka.common.ffxcore.route.DefaultInternationalRoute.dispatchRoute(DefaultInternationalRoute.java:335)\\n\\tat com.traveloka.common.ffxcore.api.InternalInternationalAPIRoute.dispatchRoute(InternalInternationalAPIRoute.java:50)\\n\\tat com.traveloka.common.ffxcore.servlet.FFXServlet.service(FFXServlet.java:123)\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:590)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722)\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\n\\tat java.lang.Thread.run(Thread.java:748)\\n\",\"statusCode\":\"500\"}\n\n"},{"result":{"nanos":90738,"errorMessage":"status code was: 500, expected: 200, response time in milliseconds: 435, url: https:\/\/paypapi.pay.staging-traveloka.com\/en-id\/v2\/payment\/submitpayment, response: \n{\"errorType\":\"SERVER_ERROR\",\"userErrorMessage\":\"Unexpected server error occurred. We apologize for the inconvenience. Please try again later.\",\"errorMessage\":\"Uncaught exception: java.lang.NullPointerException\\n\\tat com.traveloka.payment.papi.v2.CommercePaymentAPIImpl.validateSubmitPayment(CommercePaymentAPIImpl.java:3053)\\n\\tat com.traveloka.payment.papi.v2.PublicCommerceProductAPIImpl.internalSubmitPaymentRequest(PublicCommerceProductAPIImpl.java:689)\\n\\tat com.traveloka.payment.papi.v2.PublicCommerceProductAPIImpl.submitPaymentRequest(PublicCommerceProductAPIImpl.java:571)\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat com.traveloka.common.ffxcore.controller.DefaultInvoker.invoke(DefaultInvoker.java:235)\\n\\tat com.traveloka.common.ffxcore.controller.DefaultInvoker.invoke(DefaultInvoker.java:148)\\n\\tat com.traveloka.common.ffxcore.route.DefaultInternationalRoute.dispatchRoute(DefaultInternationalRoute.java:329)\\n\\tat com.traveloka.common.ffxcore.route.DefaultInternationalRoute.dispatchRoute(DefaultInternationalRoute.java:335)\\n\\tat com.traveloka.common.ffxcore.api.InternalInternationalAPIRoute.dispatchRoute(InternalInternationalAPIRoute.java:50)\\n\\tat com.traveloka.common.ffxcore.servlet.FFXServlet.service(FFXServlet.java:123)\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:590)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722)\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\n\\tat java.lang.Thread.run(Thread.java:748)\\n\",\"statusCode\":\"500\"}\nsrc\/test\/java\/BookingProductMainFlow\/Payment\/submitPaymentOnly.feature:14","millis":0.090738,"status":"failed"},"step":{"line":14,"prefix":"Then","index":3,"text":"status 200"},"stepLog":"17:46:15.682 src\/test\/java\/BookingProductMainFlow\/Payment\/submitPaymentOnly.feature:14\nThen status 200\nstatus code was: 500, expected: 200, response time in milliseconds: 435, url: https:\/\/paypapi.pay.staging-traveloka.com\/en-id\/v2\/payment\/submitpayment, response: \n{\"errorType\":\"SERVER_ERROR\",\"userErrorMessage\":\"Unexpected server error occurred. We apologize for the inconvenience. Please try again later.\",\"errorMessage\":\"Uncaught exception: java.lang.NullPointerException\\n\\tat com.traveloka.payment.papi.v2.CommercePaymentAPIImpl.validateSubmitPayment(CommercePaymentAPIImpl.java:3053)\\n\\tat com.traveloka.payment.papi.v2.PublicCommerceProductAPIImpl.internalSubmitPaymentRequest(PublicCommerceProductAPIImpl.java:689)\\n\\tat com.traveloka.payment.papi.v2.PublicCommerceProductAPIImpl.submitPaymentRequest(PublicCommerceProductAPIImpl.java:571)\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat com.traveloka.common.ffxcore.controller.DefaultInvoker.invoke(DefaultInvoker.java:235)\\n\\tat com.traveloka.common.ffxcore.controller.DefaultInvoker.invoke(DefaultInvoker.java:148)\\n\\tat com.traveloka.common.ffxcore.route.DefaultInternationalRoute.dispatchRoute(DefaultInternationalRoute.java:329)\\n\\tat com.traveloka.common.ffxcore.route.DefaultInternationalRoute.dispatchRoute(DefaultInternationalRoute.java:335)\\n\\tat com.traveloka.common.ffxcore.api.InternalInternationalAPIRoute.dispatchRoute(InternalInternationalAPIRoute.java:50)\\n\\tat com.traveloka.common.ffxcore.servlet.FFXServlet.service(FFXServlet.java:123)\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:590)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722)\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\n\\tat java.lang.Thread.run(Thread.java:748)\\n\",\"statusCode\":\"500\"}\nsrc\/test\/java\/BookingProductMainFlow\/Payment\/submitPaymentOnly.feature:14\n"}],"line":9,"description":"","durationMillis":795.495501,"failed":true,"error":"status code was: 500, expected: 200, response time in milliseconds: 435, url: https:\/\/paypapi.pay.staging-traveloka.com\/en-id\/v2\/payment\/submitpayment, response: \n{\"errorType\":\"SERVER_ERROR\",\"userErrorMessage\":\"Unexpected server error occurred. We apologize for the inconvenience. Please try again later.\",\"errorMessage\":\"Uncaught exception: java.lang.NullPointerException\\n\\tat com.traveloka.payment.papi.v2.CommercePaymentAPIImpl.validateSubmitPayment(CommercePaymentAPIImpl.java:3053)\\n\\tat com.traveloka.payment.papi.v2.PublicCommerceProductAPIImpl.internalSubmitPaymentRequest(PublicCommerceProductAPIImpl.java:689)\\n\\tat com.traveloka.payment.papi.v2.PublicCommerceProductAPIImpl.submitPaymentRequest(PublicCommerceProductAPIImpl.java:571)\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat com.traveloka.common.ffxcore.controller.DefaultInvoker.invoke(DefaultInvoker.java:235)\\n\\tat com.traveloka.common.ffxcore.controller.DefaultInvoker.invoke(DefaultInvoker.java:148)\\n\\tat com.traveloka.common.ffxcore.route.DefaultInternationalRoute.dispatchRoute(DefaultInternationalRoute.java:329)\\n\\tat com.traveloka.common.ffxcore.route.DefaultInternationalRoute.dispatchRoute(DefaultInternationalRoute.java:335)\\n\\tat com.traveloka.common.ffxcore.api.InternalInternationalAPIRoute.dispatchRoute(InternalInternationalAPIRoute.java:50)\\n\\tat com.traveloka.common.ffxcore.servlet.FFXServlet.service(FFXServlet.java:123)\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:590)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722)\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\n\\tat java.lang.Thread.run(Thread.java:748)\\n\",\"statusCode\":\"500\"}\nsrc\/test\/java\/BookingProductMainFlow\/Payment\/submitPaymentOnly.feature:14","executorName":"main","name":"Submit Payment Only","startTime":1659523574776,"refId":"[1:9]","endTime":1659523575682,"exampleIndex":-1}],"callDepth":0,"name":"Payment Process","description":"","resultDate":"2022-08-03 05:46:15 PM","durationMillis":795.495501,"passedCount":0}