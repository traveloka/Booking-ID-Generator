{"failedCount":1,"prefixedPath":"src\/test\/java\/BookingProductMainFlow\/BookingProduct\/createBooking.feature","packageQualifiedName":"src.test.java.BookingProductMainFlow.BookingProduct.createBooking","loopIndex":-1,"relativePath":"src\/test\/java\/BookingProductMainFlow\/BookingProduct\/createBooking.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1985410,"millis":1.98541,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url baseUrlTrp"}},{"result":{"nanos":137652304,"millis":137.652304,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def reqbodycreatebooking = read('classpath:request\/booking\/booking\/flight\/createbooking.json')"}},{"result":{"nanos":1798598,"millis":1.798598,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"set reqbodycreatebooking.context.tvLifetime = tvLifetime"}},{"result":{"nanos":388357,"millis":0.388357,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"set reqbodycreatebooking.context.tvSession = tvSession"}},{"result":{"nanos":432684,"millis":0.432684,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"path createbooking"}},{"result":{"nanos":72196,"millis":0.072196,"status":"passed"},"step":{"line":11,"prefix":"And","index":1,"text":"request reqbodycreatebooking"}},{"result":{"nanos":1918333056,"millis":1918.333056,"status":"passed"},"step":{"line":12,"prefix":"When","index":2,"text":"method POST"},"stepLog":"10:59:11.855 request:\n1 > POST https:\/\/api.trp.staging-traveloka.com\/en-id\/v2\/trip\/booking\/createBooking\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 5310\n1 > Host: api.trp.staging-traveloka.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/1.8.0_202)\n1 > Accept-Encoding: gzip,deflate\n{\"clientInterface\":\"mobile-ios\",\"context\":{\"nonce\":\"817aaf3f-e8c6-4005-a7d7-e8abf31c6ec2\",\"tvLifetime\":\"qgdHX7GvehrD9XH5a3S4PdE8AYpuF3hYPaT5bxhY7ZYNUZrZOl2UlDiBuXCxq8sOg7nt46\\\/VPehcCmOedyJHbu4+FhR7gfEnnStupPqpfTXQPJbgzmVCrU0Pdbi\\\/QKLyabY+p8NbH9lSwSP+Ce5nZswpljLW8Llze3rktN7ay26Rxolv31kdHn3tiz9ERW82KCajsK1\\\/t8VOrr22VSxJ+sthjrgAThqmIPWqYdEZpXyHxIZibQPTfMRbtLuDTaX3i7ceDGYgYneH+AfodZMd5A==\",\"tvSession\":\"qgdHX7GvehrD9XH5a3S4PXWKx93\\\/3Xi103f\\\/kPpnhg3CKqgtVARX\\\/VDwq+PgoTH1aLb7MdTdXKtCOtHBtffKIrZ9klIk8KMvB\\\/MfyxJCcFBTWp6Z+ofHQCshoZLtdxlDcQYPDsiAN4MFOZCDaz0psBlJGGb5h16Ee9q0nmyig7qr7ak9+3NllNsZvQ2KW1xxAfzSqLYz+CpT99aR3\\\/9KlvN9a1xZiWPBBhHS+H96iCM=\"},\"data\":{\"addOnProductSpecs\":[],\"bookingContact\":{\"formData\":{\"travelerForm\":{\"title\":\"MISS\",\"name.first\":\"IPI Front\",\"name.noLastName\":false,\"name.last\":\"End\",\"name.regexName\":\"DEFAULT\",\"phoneNumber\":{\"countryCode\":\"+62\",\"phoneNumber\":\"8234567876\"},\"emailAddress\":\"ipi.front.end2@gmail.com\",\"nationality\":\"ID\",\"travelerID.type\":\"KTP\",\"travelerID.number\":\"1234567890987688\"},\"FLIGHT.FF\":{\"boxAccordionFF\":true,\"ffAccount[0]\":\"\",\"ffNumber[0]\":\"\"}}},\"createBookingCrossSellAddOns\":[{\"id\":\"INSURANCE_796\",\"productType\":\"INSURANCE\",\"type\":\"INSURANCE_CHECKBOX\",\"displayType\":\"CHECKBOX\",\"insuranceCreateCrossSellAddOnV2\":{\"productType\":\"FLIGHT\",\"insuranceSpecId\":\"34e280a2653f911aa6d8f0b159b3bb25d503b219\",\"insurancePlanId\":\"796\",\"productName\":\"FlightInsurance\",\"crossSellAddOnType\":\"INSURANCE_CHECKBOX\"}}],\"createBookingProductSpecificAddOns\":[{\"flightBaggageAddOn\":{\"baggageAddOnItems\":[{\"associatedTravelerIndex\":0,\"baggagesWithRoute\":[[{\"baggageType\":\"0\",\"currency\":\"IDR\",\"fare\":{\"currencyValue\":{\"amount\":0,\"currency\":\"IDR\",\"nullOrEmpty\":true},\"numOfDecimalPoint\":0},\"price\":\"0\",\"priceWithCurrency\":{\"amount\":0,\"currency\":\"IDR\",\"nullOrEmpty\":false},\"quantity\":\"1\",\"unitOfMeasure\":\"KG\",\"weight\":\"20\"}]]}]},\"id\":\"FLIGHT_BAGGAGE\",\"type\":\"FLIGHT_BAGGAGE\"}],\"createBookingSimpleAddOns\":[],\"createBookingTravelerSpecs\":{\"adultFormData\":[{\"travelerForm\":{\"title\":\"MISS\",\"name.first\":\"IPI Front\",\"name.noLastName\":false,\"name.last\":\"End\",\"name.regexName\":\"DEFAULT\",\"nationality\":\"ID\",\"travelerID.type\":\"KTP\",\"travelerID.number\":\"1234567890987688\"}}],\"childFormData\":[],\"infantFormData\":[]},\"currency\":\"IDR\",\"isMultiItem\":false,\"selectedPrice\":{\"selectedPrice\":{\"amount\":935000,\"currency\":\"IDR\",\"nullOrEmpty\":false}},\"selectedProductSpec\":{\"flightProductBookingSpec\":{\"flightItineraryFares\":[{\"airlineId\":\"JT\",\"farePerPaxSearch\":{\"adultFareWithCurrency\":{\"currency\":\"IDR\",\"amount\":\"905400\",\"nullOrEmpty\":false},\"childFareWithCurrency\":{\"currency\":\"IDR\",\"amount\":\"0\",\"nullOrEmpty\":true},\"infantFareWithCurrency\":{\"currency\":\"IDR\",\"amount\":\"0\",\"nullOrEmpty\":true}},\"farePerPaxExpected\":{\"adultFareWithCurrency\":{\"currency\":\"IDR\",\"amount\":\"955400\",\"nullOrEmpty\":false},\"childFareWithCurrency\":{\"currency\":\"IDR\",\"amount\":\"0\",\"nullOrEmpty\":true},\"infantFareWithCurrency\":{\"currency\":\"IDR\",\"amount\":\"0\",\"nullOrEmpty\":true}},\"farePerPaxAgentExpected\":{\"adultFareWithCurrency\":{\"currency\":\"IDR\",\"amount\":\"905400\",\"nullOrEmpty\":false},\"childFareWithCurrency\":{\"currency\":\"IDR\",\"amount\":\"0\",\"nullOrEmpty\":true},\"infantFareWithCurrency\":{\"currency\":\"IDR\",\"amount\":\"0\",\"nullOrEmpty\":true}},\"routeFares\":[{\"farePerPaxSearch\":{\"adultFareWithCurrency\":{\"currency\":\"IDR\",\"amount\":\"905400\",\"nullOrEmpty\":false},\"childFareWithCurrency\":{\"currency\":\"IDR\",\"amount\":\"0\",\"nullOrEmpty\":true},\"infantFareWithCurrency\":{\"currency\":\"IDR\",\"amount\":\"0\",\"nullOrEmpty\":true}},\"farePerPaxExpected\":{\"adultFareWithCurrency\":{\"currency\":\"IDR\",\"amount\":\"955400\",\"nullOrEmpty\":false},\"childFareWithCurrency\":{\"currency\":\"IDR\",\"amount\":\"0\",\"nullOrEmpty\":true},\"infantFareWithCurrency\":{\"currency\":\"IDR\",\"amount\":\"0\",\"nullOrEmpty\":true}},\"farePerPaxAgentExpected\":{\"adultFareWithCurrency\":{\"currency\":\"IDR\",\"amount\":\"905400\",\"nullOrEmpty\":false},\"childFareWithCurrency\":{\"currency\":\"IDR\",\"amount\":\"0\",\"nullOrEmpty\":true},\"infantFareWithCurrency\":{\"currency\":\"IDR\",\"amount\":\"0\",\"nullOrEmpty\":true}}}]}],\"selectedFlight\":{\"currency\":\"IDR\",\"destinationAirportSpec\":\"DPS\",\"flightDisplayedDate\":[[[\"Thu, 11 Aug 2022\"]]],\"funnelId\":\"flight\",\"funnelSource\":\"iconHomepage\",\"idSelectedUpsellNew\":[],\"isBuybackGuarantee\":false,\"isReschedule\":false,\"isUseDateFlow\":false,\"isUsePromoFinder\":true,\"numberOfSeats\":{\"numAdults\":1,\"numChildren\":0,\"numInfants\":0},\"originAirportSpec\":\"JKTA\",\"planIds\":[],\"searchId\":\"f5a53d49-fc13-491b-bc63-b10624493b63\",\"searchSource\":\"BASIC\",\"seatPublishedClass\":\"ECONOMY\",\"selectedFlightSpecs\":[{\"flightIds\":[\"3CgbWE8IWKZ+gnQ0cDFUPtZQBbr\\\/kRLReWsqxt5fdkPDhgt0ncD4gTWGW3Gz\\\/F1hLnhS5zVenPr5+MsiOJDvOl4PnUeaap7i7smG+cC3deuG9PlM7lBAyS9T4wNSYGYCIScUmZZN1ov095slIVtuZx0OBsDwXv7+wvoFBNmh8Mqu+s84DDNG3HgiieiHAZOGM2rhA9ISV2gcL94nebkhgfUxqKEQRHuqNfiP8eiC2kU=\"],\"isPackage\":false}],\"selectedRecommendationCardIds\":[],\"visitId\":\"ee480da3-af6a-4035-ae09-38178309e964\",\"winnerTypes\":[]}},\"productType\":\"FLIGHT\"},\"trackingSpec\":{\"bookingFormId\":\"6460c50f-97af-405a-a6c9-82677be3899d\",\"contexts\":{\"std_selectId\":\"6460c50f-97af-405a-a6c9-82677be3899d\",\"std_preSelectId\":\"8d1de2fd-af2f-4158-bc96-50beedeb6a6e\"},\"marketingContexts\":{\"google_play_ads_id\":\"27bdfe8d-ce0f-48a0-87b6-56cb4a50c878\"},\"preBookingId\":\"8d1de2fd-af2f-4158-bc96-50beedeb6a6e\",\"searchId\":\"f5a53d49-fc13-491b-bc63-b10624493b63\"}},\"fields\":[]}\n\n10:59:13.482 response time in milliseconds: 1614\n1 < 500\n1 < Date: Wed, 24 Aug 2022 03:59:13 GMT\n1 < Content-Type: application\/json\n1 < Content-Length: 1583\n1 < Connection: keep-alive\n1 < Access-Control-Allow-Credentials: true\n1 < Set-Cookie: AWSALB=z0BtgVP0NIW9ok5LgDrfFRwVe7NLi7AiaogESg5CbYpn93H8kFZbazU6euvIO\/ANe5qtQUIf8jBBLXE5B\/tD4LfkCKrkJIGyFuL1IUi47XdOUhY6BfyFcS3NOTSx; Max-Age=1661918353000; Expires=Tue, 28 Sep 54686 06:55:53 GMT; Domain=api.trp.staging-traveloka.com\n1 < Set-Cookie: AWSALBCORS=z0BtgVP0NIW9ok5LgDrfFRwVe7NLi7AiaogESg5CbYpn93H8kFZbazU6euvIO\/ANe5qtQUIf8jBBLXE5B\/tD4LfkCKrkJIGyFuL1IUi47XdOUhY6BfyFcS3NOTSx; Max-Age=1661918353000; Expires=Tue, 28 Sep 54686 06:55:53 GMT; Domain=api.trp.staging-traveloka.com; Secure\n{\"errorType\":\"SERVER_ERROR\",\"userErrorMessage\":\"Unexpected server error occurred. We apologize for the inconvenience. Please try again later.\",\"errorMessage\":\"Uncaught exception: JSON-RPC code: -32000. org.dk.rpc.common.JsonRpcException: java.lang.NullPointerException  id: 1748230620\\n\\tat org.dk.rpc.serialization.FasterXMLJacksonJsonRpcSerialization.readResponseObject(FasterXMLJacksonJsonRpcSerialization.java:308)\\n\\tat org.dk.rpc.serialization.FasterXMLJacksonJsonRpcSerialization.readResponseObject(FasterXMLJacksonJsonRpcSerialization.java:266)\\n\\tat org.dk.rpc.client.JsonRpcJettyHttpClient.readHttpResponse(JsonRpcJettyHttpClient.java:235)\\n\\tat org.dk.rpc.client.JsonRpcJettyHttpClient.access$000(JsonRpcJettyHttpClient.java:47)\\n\\tat org.dk.rpc.client.JsonRpcJettyHttpClient$RpcCallback.onComplete(JsonRpcJettyHttpClient.java:358)\\n\\tat org.dk.rpc.client.JsonRpcJettyHttpClient$RpcCallback.onComplete(JsonRpcJettyHttpClient.java:339)\\n\\tat com.traveloka.common.http.ManagedHttpClient$ManagedCallback$1.run(ManagedHttpClient.java:208)\\n\\tat java.base\/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\\n\\tat java.base\/java.util.concurrent.FutureTask.run(FutureTask.java:264)\\n\\tat java.base\/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\\n\\tat java.base\/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\\n\\tat java.base\/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\\n\\tat java.base\/java.lang.Thread.run(Thread.java:829)\\n\"}\n\n"},{"result":{"nanos":65303,"errorMessage":"status code was: 500, expected: 200, response time in milliseconds: 1614, url: https:\/\/api.trp.staging-traveloka.com\/en-id\/v2\/trip\/booking\/createBooking, response: \n{\"errorType\":\"SERVER_ERROR\",\"userErrorMessage\":\"Unexpected server error occurred. We apologize for the inconvenience. Please try again later.\",\"errorMessage\":\"Uncaught exception: JSON-RPC code: -32000. org.dk.rpc.common.JsonRpcException: java.lang.NullPointerException  id: 1748230620\\n\\tat org.dk.rpc.serialization.FasterXMLJacksonJsonRpcSerialization.readResponseObject(FasterXMLJacksonJsonRpcSerialization.java:308)\\n\\tat org.dk.rpc.serialization.FasterXMLJacksonJsonRpcSerialization.readResponseObject(FasterXMLJacksonJsonRpcSerialization.java:266)\\n\\tat org.dk.rpc.client.JsonRpcJettyHttpClient.readHttpResponse(JsonRpcJettyHttpClient.java:235)\\n\\tat org.dk.rpc.client.JsonRpcJettyHttpClient.access$000(JsonRpcJettyHttpClient.java:47)\\n\\tat org.dk.rpc.client.JsonRpcJettyHttpClient$RpcCallback.onComplete(JsonRpcJettyHttpClient.java:358)\\n\\tat org.dk.rpc.client.JsonRpcJettyHttpClient$RpcCallback.onComplete(JsonRpcJettyHttpClient.java:339)\\n\\tat com.traveloka.common.http.ManagedHttpClient$ManagedCallback$1.run(ManagedHttpClient.java:208)\\n\\tat java.base\/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\\n\\tat java.base\/java.util.concurrent.FutureTask.run(FutureTask.java:264)\\n\\tat java.base\/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\\n\\tat java.base\/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\\n\\tat java.base\/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\\n\\tat java.base\/java.lang.Thread.run(Thread.java:829)\\n\"}\nsrc\/test\/java\/BookingProductMainFlow\/BookingProduct\/createBooking.feature:13","millis":0.065303,"status":"failed"},"step":{"line":13,"prefix":"Then","index":3,"text":"status 200"},"stepLog":"10:59:13.486 src\/test\/java\/BookingProductMainFlow\/BookingProduct\/createBooking.feature:13\nThen status 200\nstatus code was: 500, expected: 200, response time in milliseconds: 1614, url: https:\/\/api.trp.staging-traveloka.com\/en-id\/v2\/trip\/booking\/createBooking, response: \n{\"errorType\":\"SERVER_ERROR\",\"userErrorMessage\":\"Unexpected server error occurred. We apologize for the inconvenience. Please try again later.\",\"errorMessage\":\"Uncaught exception: JSON-RPC code: -32000. org.dk.rpc.common.JsonRpcException: java.lang.NullPointerException  id: 1748230620\\n\\tat org.dk.rpc.serialization.FasterXMLJacksonJsonRpcSerialization.readResponseObject(FasterXMLJacksonJsonRpcSerialization.java:308)\\n\\tat org.dk.rpc.serialization.FasterXMLJacksonJsonRpcSerialization.readResponseObject(FasterXMLJacksonJsonRpcSerialization.java:266)\\n\\tat org.dk.rpc.client.JsonRpcJettyHttpClient.readHttpResponse(JsonRpcJettyHttpClient.java:235)\\n\\tat org.dk.rpc.client.JsonRpcJettyHttpClient.access$000(JsonRpcJettyHttpClient.java:47)\\n\\tat org.dk.rpc.client.JsonRpcJettyHttpClient$RpcCallback.onComplete(JsonRpcJettyHttpClient.java:358)\\n\\tat org.dk.rpc.client.JsonRpcJettyHttpClient$RpcCallback.onComplete(JsonRpcJettyHttpClient.java:339)\\n\\tat com.traveloka.common.http.ManagedHttpClient$ManagedCallback$1.run(ManagedHttpClient.java:208)\\n\\tat java.base\/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\\n\\tat java.base\/java.util.concurrent.FutureTask.run(FutureTask.java:264)\\n\\tat java.base\/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\\n\\tat java.base\/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\\n\\tat java.base\/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\\n\\tat java.base\/java.lang.Thread.run(Thread.java:829)\\n\"}\nsrc\/test\/java\/BookingProductMainFlow\/BookingProduct\/createBooking.feature:13\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":14,"prefix":"And","index":4,"text":"assert response.data.bookingId != null"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":15,"prefix":"And","index":5,"text":"assert response.data.trackingSpec.preBookingId != null"}}],"line":9,"description":"","durationMillis":2060.727908,"failed":true,"error":"status code was: 500, expected: 200, response time in milliseconds: 1614, url: https:\/\/api.trp.staging-traveloka.com\/en-id\/v2\/trip\/booking\/createBooking, response: \n{\"errorType\":\"SERVER_ERROR\",\"userErrorMessage\":\"Unexpected server error occurred. We apologize for the inconvenience. Please try again later.\",\"errorMessage\":\"Uncaught exception: JSON-RPC code: -32000. org.dk.rpc.common.JsonRpcException: java.lang.NullPointerException  id: 1748230620\\n\\tat org.dk.rpc.serialization.FasterXMLJacksonJsonRpcSerialization.readResponseObject(FasterXMLJacksonJsonRpcSerialization.java:308)\\n\\tat org.dk.rpc.serialization.FasterXMLJacksonJsonRpcSerialization.readResponseObject(FasterXMLJacksonJsonRpcSerialization.java:266)\\n\\tat org.dk.rpc.client.JsonRpcJettyHttpClient.readHttpResponse(JsonRpcJettyHttpClient.java:235)\\n\\tat org.dk.rpc.client.JsonRpcJettyHttpClient.access$000(JsonRpcJettyHttpClient.java:47)\\n\\tat org.dk.rpc.client.JsonRpcJettyHttpClient$RpcCallback.onComplete(JsonRpcJettyHttpClient.java:358)\\n\\tat org.dk.rpc.client.JsonRpcJettyHttpClient$RpcCallback.onComplete(JsonRpcJettyHttpClient.java:339)\\n\\tat com.traveloka.common.http.ManagedHttpClient$ManagedCallback$1.run(ManagedHttpClient.java:208)\\n\\tat java.base\/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\\n\\tat java.base\/java.util.concurrent.FutureTask.run(FutureTask.java:264)\\n\\tat java.base\/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\\n\\tat java.base\/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\\n\\tat java.base\/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\\n\\tat java.base\/java.lang.Thread.run(Thread.java:829)\\n\"}\nsrc\/test\/java\/BookingProductMainFlow\/BookingProduct\/createBooking.feature:13","executorName":"main","name":"User create booking successful","startTime":1661313551255,"refId":"[1:9]","endTime":1661313553486,"exampleIndex":-1}],"callDepth":0,"name":"Create Booking Flight","description":"","resultDate":"2022-08-24 10:59:13 AM","durationMillis":2060.727908,"passedCount":0}